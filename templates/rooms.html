{% extends 'layout.html' %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="h4">All Rooms</h2>
    <div class="small text-muted">Total: {{ rooms|length }}</div>
  </div>

  <div class="row g-4">
    {% for room in rooms %}
      <div class="col-md-6 col-lg-4">
        <div class="card h-100 shadow-sm room-card">
          <img src="/static/images/room-{{ room['number'] }}.webp" alt="Room {{ room['number'] }}" class="card-img-top room-image">
          <div class="card-body d-flex flex-column pt-3">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <div>
                <h5 class="card-title mb-0">Room {{ room['number'] }}</h5>
                <small class="text-muted">{{ room['type'] }}</small>
              </div>
              <div class="text-end">
                <div class="h5 mb-0 text-primary">${{ room['price'] }}</div>
              </div>
            </div>
            <p class="text-muted mb-4">A pleasant {{ room['type'] | lower }} room â€” comfortable beds, complimentary Wi-Fi.</p>
            <div class="mt-auto d-flex justify-content-between align-items-center">
              <div>
                {% if room['available'] %}
                  <span class="badge bg-success">Available</span>
                {% else %}
                  <span class="badge bg-secondary">Booked</span>
                {% endif %}
              </div>
              {% if room['available'] %}
                <button class="btn btn-sm btn-primary book-btn" data-room-id="{{ room['id'] }}" data-room-number="{{ room['number'] }}">Book</button>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock %}
